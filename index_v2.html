<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>物件打包</title>
    <!-- 依序載入 CSS，通用版型在前，專用樣式在後 -->
    <link rel="stylesheet" href="./src/css/test_version/style.css">
    <link rel="stylesheet" href="./src/css/test_version/group_items.css">
</head>
<body>

    <!-- // sidebar 區塊開始 -->
    <aside id="sidebar" class="sidebar">
        <!-- 標頭區 -->
        <div class="sidebar-header">
            <img src="./src/assets/container/container.png" alt="sidebar icon" class="sidebar-icon">
            <h2 class="sidebar-title">物件打包</h2>
        </div>
        <!-- 展開/收合按鈕 -->
        <button id="toggle-btn" class="sidebar-toggle">
            <img src="./src/assets/webs/sidebar.png" alt="Toggle Sidebar">
        </button>
        <!-- 導覽選項 -->
        <div class="sidebar-section sidebar-section-active" data-target="view-groups-readme">
            <img src="./src/assets/temp_element/layer.png" alt="Groups & Objects" class="sidebar-section-icon">
            <h2 class="sidebar-section-title">群組＆物件</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-groups-group">
            <img src="./src/assets/temp_element/boxes.png" alt="Groups" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">群組</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-groups-item">
            <img src="./src/assets/temp_element/box.png" alt="Items" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">物件</h2>
        </div>

        <div class="sidebar-section" data-target="view-space">
            <img src="./src/assets/webs/floor.png" alt="Space Configuration" class="sidebar-section-icon">
            <h2 class="sidebar-section-title">空間配置</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-space-size">
            <img src="./src/assets/temp_element/area.png" alt="Space Size" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">空間大小</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-space-pack">
            <img src="./src/assets/temp_element/packing-list.png" alt="Packing" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">打包</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-space-assign">
            <img src="./src/assets/temp_element/layout-design.png" alt="Assignment" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">位置分配</h2>
        </div>
        <div class="sidebar-section sidebar-section--child" data-target="view-space-preview">
            <img src="./src/assets/temp_element/website.png" alt="Preview" class="sidebar-section-icon">
            <h2 class="sidebar-section-title sidebar-section-title--small">預覽畫面</h2>
        </div>
    </aside>
    <!-- // sidebar 區塊結束 -->

    <!-- // main 主內容區開始 -->
    <main id="main" class="main">

        <!-- ===== View 1: 群組與物件 - 說明 (預設顯示) ===== -->
        <section id="view-groups-readme" class="main-view main-view-active">
            <div class="main-content">
                <h1>歡迎使用物件打包工具</h1>
                <p>請點擊左側導覽列的「群組」或「物件」開始進行設定。</p>
            </div>
        </section>

        <!-- ===== View 2: 群組與物件 - 群組管理 ===== -->
        <section id="view-groups-group" class="main-view">
            <div class="main-content">
                <!-- 步驟條 -->
                <div class="steps-indicator">
                    <div class="step active" data-step="1"><div class="step-number">1</div> 建立群組</div>
                    <div class="step-arrow">→</div>
                    <div class="step" data-step="2"><div class="step-number">2</div> 建立物件</div>
                </div>
                <!-- 標題區 -->
                <div class="view-header">
                    <h2>群組列表</h2>
                    <button class="add-btn js-add-group-btn">+ 新增群組</button>
                </div>
                <!-- 空狀態 -->
                <div class="empty-state-card" id="empty-groups-placeholder">
                    <div class="empty-state-icon">📦</div>
                    <h3>尚未建立任何群組</h3>
                    <p>點擊按鈕以開始建立您的第一個群組。</p>
                    <button class="add-btn large js-add-group-btn">+ 新增群組</button>
                </div>
                <!-- 表格 -->
                <div class="table-container" id="groups-table-container" style="display: none;">
                    <table id="groups-table">
                        <thead>
                            <tr><th>標籤</th><th>群組名稱</th><th>備註</th><th>操作</th></tr>
                        </thead>
                        <tbody id="groups-tbody"></tbody>
                    </table>
                </div>
                <!-- 頁尾按鈕 -->
                <div class="view-footer">
                    <button class="next-btn" id="go-to-items-step-btn">下一步 →</button>
                </div>
            </div>
        </section>

        <!-- ===== View 3: 群組與物件 - 物件管理 ===== -->
        <section id="view-groups-item" class="main-view">
            <div class="main-content">
                <!-- 步驟條 -->
                <div class="steps-indicator">
                    <div class="step" data-step="1"><div class="step-number">1</div> 建立群組</div>
                    <div class="step-arrow">→</div>
                    <div class="step active" data-step="2"><div class="step-number">2</div> 建立物件</div>
                </div>
                <!-- 標題區 -->
                <div class="view-header">
                    <h2>物件列表</h2>
                    <div class="header-controls">
                        <div class="select-wrapper">
                            <label for="current-group-select">當前群組：</label>
                            <select id="current-group-select"><option value="" disabled selected>— 請選擇一個群組 —</option></select>
                        </div>
                        <button class="add-btn" id="add-item-btn" disabled>+ 新增物件</button>
                    </div>
                </div>
                <!-- 空狀態 -->
                <div class="empty-state-card" id="empty-items-placeholder">
                    <div class="empty-state-icon">🧊</div>
                    <h3>此群組尚無物件</h3>
                    <p>請先選擇一個目標群組，然後點擊「新增物件」按鈕。</p>
                </div>
                <!-- 表格 -->
                <div class="table-container" id="items-table-container" style="display: none;">
                    <table id="items-table">
                        <thead>
                            <tr><th>標籤</th><th>物件名稱</th><th>W</th><th>H</th><th>D</th><th id="item-qty-header">Qty</th><th>Color</th><th>操作</th></tr>
                        </thead>
                        <tbody id="items-tbody"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ===== View 4: 空間配置 - 說明 (Placeholder) ===== -->
        <section id="view-space" class="main-view">
            <div class="main-content"><h1>空間配置 - 總覽</h1><p>此頁面用於空間配置的整體說明。</p></div>
        </section>

        <!-- ===== View 5: 空間配置 - 空間大小 (Placeholder) ===== -->
        <section id="view-space-size" class="main-view">
            <div class="main-content"><h1>空間配置 - 空間大小</h1><p>在這裡設定您的容器或空間尺寸。</p></div>
        </section>

        <!-- ===== View 6: 空間配置 - 打包 (Placeholder) ===== -->
        <section id="view-space-pack" class="main-view">
            <div class="main-content"><h1>空間配置 - 打包</h1><p>執行打包演算法並預覽 3D 結果。</p></div>
        </section>
        
        <!-- ===== View 7: 空間配置 - 位置分配 (Placeholder) ===== -->
        <section id="view-space-assign" class="main-view">
            <div class="main-content"><h1>空間配置 - 位置分配</h1><p>手動調整或分配物件在空間中的位置。</p></div>
        </section>

        <!-- ===== View 8: 空間配置 - 預覽畫面 (Placeholder) ===== -->
        <section id="view-space-preview" class="main-view">
            <div class="main-content"><h1>空間配置 - 預覽畫面</h1><p>最終確認與匯出您的打包設定。</p></div>
        </section>

    </main>
    <!-- // main 主內容區結束 -->

    <!-- 浮動按鈕 -->
    <button id="build-items-btn" style="display:none;">完成編輯</button>

    <!-- Scripts -->
    <script src="./src/js_v2/group_items/group_items.js"></script>
    <script src="./src/js_v2/sidebar.js"></script>
</body>
</html>
